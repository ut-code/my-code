# 第1章: JavaScriptへようこそ

本章では、JavaScript（以下JS）がどのような思想で設計され、JavaやPython、C\#といった他の言語とどう異なるのか、その全体像を把握します。また、学習に必要な環境構築と最初のコード実行を行います。

## JavaScriptとは？

JavaScriptは1995年、Netscape社のBrendan Eichによってわずか10日間でプロトタイプが作成されました。当初はWebページに軽い動きをつけるための言語でしたが、現在では**ECMAScript (ES)** として標準化され、フロントエンドからバックエンド、モバイルアプリまで幅広く利用されています。

経験豊富なエンジニアが押さえておくべき特徴は以下の3点です。

1.  **動的型付け (Dynamic Typing):**
    変数は型を持ちません。値が型を持ちます。コンパイル時ではなく実行時に型が決まるため、柔軟ですが、実行時エラーのリスク管理が必要です（現代ではTypeScriptで補うのが一般的です）。
2.  **マルチパラダイム:**
    命令型の手続き記述はもちろん、**関数型プログラミング**（第一級関数、クロージャ）や、**プロトタイプベースのオブジェクト指向**をサポートします。クラスベースの言語に慣れていると、ここの概念モデルの違いに驚くかもしれません。
3.  **シングルスレッド & ノンブロッキングI/O:**
    JSのランタイムは基本的にシングルスレッドです。しかし、**イベントループ**という仕組みにより、重いI/O操作（ネットワーク通信やファイル読み込み）を非同期で処理し、メインスレッドをブロックせずに高い並行性を実現します。

## 実行環境: ブラウザ vs Node.js

JavaScriptはどこで動くのでしょうか？ かつてはブラウザの中だけでしたが、現在は大きく分けて2つの環境があります。

  * **Webブラウザ (クライアントサイド):**

      * DOM (Document Object Model) 操作により、HTML/CSSを動的に書き換えます。
      * `window` オブジェクトがグローバルスコープです。
      * セキュリティ上の制約（サンドボックス）があり、ローカルファイルへの直接アクセスなどは制限されています。

  * **Node.js (サーバーサイド):**

      * ChromeのV8 JavaScriptエンジンをブラウザの外に取り出したランタイムです。
      * OSの機能（ファイルシステム、ネットワーク）にアクセス可能です。
      * DOMは存在しません。Webサーバー構築やCLIツールの作成に使われます。

言語仕様（コア機能）は同じですが、**「何ができるか（API）」は環境に依存する**という点を意識してください。

## 他言語との比較

あなたが既に知っている言語とJSを比較してみましょう。

| 特徴 | Java / C\# | Python | JavaScript |
| :--- | :--- | :--- | :--- |
| **型システム** | 静的型付け (強い型付け) | 動的型付け (強い型付け) | **動的型付け (弱い型付け)** |
| **並行処理** | マルチスレッド | マルチスレッド (GILあり) | **シングルスレッド + イベントループ** |
| **OOP** | クラスベース | クラスベース | **プロトタイプベース** (class構文はシンタックスシュガー) |
| **実行方式** | コンパイル (JVM/CLR) | インタープリタ | **JITコンパイル** (多くのエンジン) |

  * **Java/C\#ユーザーへの注記:** JSの`class`は見た目は似ていますが、裏側の仕組み（プロトタイプチェーン）は全く異なります。また、コンパイルエラーで弾かれるようなコードも、JSでは実行できてしまう（そして実行時に落ちる）ことがあります。
  * **Pythonユーザーへの注記:** Pythonの`asyncio`に似ていますが、JSは**デフォルトで非同期**を前提としています。また、インデントではなく波括弧 `{}` でブロックを定義します。

## "Hello, World\!"

実際にコードを動かしてみましょう。ここでは2つの方法を紹介します。

### REPL (Read-Eval-Print Loop) での実行

ちょっとした動作確認にはREPLが便利です。Node.jsのREPLを起動するには、ターミナルで `node` と入力して起動します。

このウェブサイトではドキュメント内にJavaScriptの実行環境を埋め込んでおり、以下のように緑枠で囲われたコード例には自由にJavaScriptコードを書いて試すことができます。ただしNode.jsとは環境が異なり、Node.js特有の機能は使用できません。

```js-repl:1
> console.log("Hello, World from REPL!");
Hello, World from REPL!
undefined
> 1 + 2
3
```

※ `undefined` は `console.log` 関数の戻り値が表示されています。

### ソースファイルからの実行

本格的なプログラムはファイルに記述します。

まず、以下の内容で `hello.js` というファイルを作成してください。

```js:hello.js
// 変数定義 (後述しますが、現代ではconstを使います)
const greeting = "Hello, World!";
const target = "Node.js";

// テンプレートリテラル (バッククォート ` を使用)
console.log(`${greeting} I am running on ${target}.`);
```

ターミナルでファイルのあるディレクトリに移動し、`node` コマンドで実行します。

```js-exec:hello.js
Hello, World! I am running on Node.js.
```

### ブラウザでの実行 (参考)

ブラウザで動かす場合は、HTMLファイルが必要です。
`index.html` を作成し、以下のように記述してブラウザで開いてみてください。

```html
<!DOCTYPE html>
<html>
<body>
  <script>
    console.log("Hello from Browser!");
    alert("Hello from Browser!");
  </script>
</body>
</html>
```

ブラウザの開発者ツール（Consoleタブ）にメッセージが表示され、ポップアップウィンドウが出れば成功です。

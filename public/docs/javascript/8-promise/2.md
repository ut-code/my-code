---
id: javascript-promise-2
title: コールバック地獄の問題点
level: 2
---

## コールバック地獄の問題点

Promiseが登場する以前（ES5時代まで）は、非同期処理の順序制御を行うために、コールバック関数を入れ子にする手法が一般的でした。

例えば、「処理Aが終わったら処理B、その後に処理C...」というコードを書こうとすると、以下のようにネストが深くなります。

```js:callback_hell.js
function delay(ms, callback) {
    setTimeout(callback, ms);
}

console.log('Start');

delay(1000, () => {
    console.log('Step 1 finished');
    
    delay(1000, () => {
        console.log('Step 2 finished');
        
        delay(1000, () => {
            console.log('Step 3 finished');
            console.log('End');
        });
    });
});
```

```js-exec:callback_hell.js
Start
Step 1 finished
Step 2 finished
Step 3 finished
End
```

これはいわゆる **「コールバック地獄 (Callback Hell)」** と呼ばれる状態で、可読性が低く、エラーハンドリングも困難です。これを解決するために導入されたのが **Promise** です。

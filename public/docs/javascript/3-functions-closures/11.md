---
id: javascript-functions-closures-11
title: クロージャの実例：カウンタ
level: 3
---

### クロージャの実例：カウンタ

プライベートな変数を持つカウンタを作ってみましょう。

```js:closure_counter.js
const createCounter = () => {
  let count = 0; // この変数は外部から直接アクセスできない（プライベート変数的な役割）

  return () => {
    count++;
    console.log(`Current count: ${count}`);
  };
};

const counterA = createCounter(); // counterA専用のスコープ（環境）が作られる
const counterB = createCounter(); // counterB専用のスコープが別に作られる

counterA(); // 1
counterA(); // 2
counterA(); // 3

console.log("--- switching to B ---");

counterB(); // 1 (Aの状態とは独立している)
```

```js-exec:closure_counter.js
Current count: 1
Current count: 2
Current count: 3
--- switching to B ---
Current count: 1
```

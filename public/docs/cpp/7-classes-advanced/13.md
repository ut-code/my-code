---
id: cpp-classes-advanced-13
title: '練習問題2: 動的配列クラスのコピー制御'
level: 3
---

### 練習問題2: 動的配列クラスのコピー制御

整数 (`int`) の動的配列を管理するクラス `IntArray` を作成してください。このクラスは、コンストラクタで指定されたサイズの配列を `new` で確保し、デストラクタで `delete[]` を使って解放します。

この `IntArray` クラスに対して、**深いコピー**を正しく行うための**コピーコンストラクタ**と**コピー代入演算子**を実装してください。

```cpp:practice8_2.cpp
#include <iostream>

// ここに IntArray クラスを実装してください

int main() {
    IntArray arr1(5); // サイズ5の配列を作成
    for (int i = 0; i < 5; ++i) {
        arr1.set(i, i * 10); // 0, 10, 20, 30, 40
    }

    IntArray arr2 = arr1; // コピーコンストラクタ
    IntArray arr3(3);
    arr3 = arr1;          // コピー代入演算子

    std::cout << "arr1: ";
    for (int i = 0; i < 5; ++i) {
        std::cout << arr1.get(i) << " ";
    }
    std::cout << std::endl;

    std::cout << "arr2 (コピー): ";
    for (int i = 0; i < 5; ++i) {
        std::cout << arr2.get(i) << " ";
    }
    std::cout << std::endl;

    std::cout << "arr3 (代入): ";
    for (int i = 0; i < 5; ++i) {
        std::cout << arr3.get(i) << " ";
    }
    std::cout << std::endl;

    return 0;
}
```

```cpp-exec:practice8_2.cpp
arr1: 0 10 20 30 40 
arr2 (コピー): 0 10 20 30 40 
arr3 (代入): 0 10 20 30 40 
```

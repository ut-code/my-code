---
id: cpp-inheritance-3
title: 抽象クラス
level: 2
---

## 抽象クラス

時には、「具体的な実装を持たず、子クラスに実装を強制するための設計図」としてのみ機能するクラスを定義したい場合があります。これが**抽象クラス (Abstract Class)** です。

抽象クラスは、**純粋仮想関数 (pure virtual function)** を1つ以上持つクラスです。純粋仮想関数は、末尾に `= 0` を付けて宣言します。

```cpp
virtual void function_name() = 0; // これが純粋仮想関数
```

抽象クラスは以下の特徴を持ちます。

  * インスタンス化（オブジェクトの作成）ができない。
  * 抽象クラスを継承した子クラスは、全ての純粋仮想関数をオーバーライド（実装）しなければならない。さもなければ、その子クラスもまた抽象クラスとなる。

```cpp:abstract_class_example.cpp
#include <iostream>

// Shapeは純粋仮想関数 draw() を持つため、抽象クラスとなる
class Shape {
public:
    // 純粋仮想関数
    // このクラスを継承するクラスは、必ず draw() を実装しなければならない
    virtual void draw() = 0;

    // 仮想デストラクタ (継承を扱う際は重要。詳しくは今後の章で)
    virtual ~Shape() {}
};

class Circle : public Shape {
public:
    void draw() override {
        std::cout << "Drawing a circle: ○" << std::endl;
    }
};

class Square : public Shape {
public:
    void draw() override {
        std::cout << "Drawing a square: □" << std::endl;
    }
};

int main() {
    // Shape my_shape; // エラー！抽象クラスはインスタンス化できない

    Circle circle;
    Square square;

    Shape* shape1 = &circle;
    Shape* shape2 = &square;

    shape1->draw();
    shape2->draw();

    return 0;
}
```

```cpp-exec:abstract_class_example.cpp
Drawing a circle: ○
Drawing a square: □
```

`Shape` クラスは「図形なら描画できるはずだ」というインターフェース（契約）を定義し、具体的な描画方法は子クラスである `Circle` や `Square` に任せています。このように、抽象クラスはプログラムの骨格となる設計を強制するのに非常に役立ちます。

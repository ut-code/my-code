---
id: rust-enums-pattern-2
title: あらゆる種類のデータを埋め込める
level: 3
---

### あらゆる種類のデータを埋め込める

Enumの各バリアントには、名前付きフィールドを持つ構造体のような形や、タプルのような形など、自由に定義できます。

```rust:message_enum.rs
#[derive(Debug)]
enum Message {
    Quit,                       // データなし
    Move { x: i32, y: i32 },    // 名前付きフィールド（構造体風）
    Write(String),              // 単一のString（タプル風）
    ChangeColor(i32, i32, i32), // 3つのi32（タプル風）
}

impl Message {
    // Enumにもメソッドを定義できる
    fn call(&self) {
        println!("メッセージを処理します: {:?}", self);
    }
}

fn main() {
    let m1 = Message::Write(String::from("hello"));
    let m2 = Message::Move { x: 10, y: 20 };
    let m3 = Message::Quit;

    m1.call();
    m2.call();
    m3.call();
}
```

```rust-exec:message_enum.rs
メッセージを処理します: Write("hello")
メッセージを処理します: Move { x: 10, y: 20 }
メッセージを処理します: Quit
```

---
id: rust-enums-pattern-6
title: 網羅性チェック
level: 3
---

### 網羅性チェック

`match` は、あり得るすべてのパターンをカバーしなければなりません。一つでも漏れているとコンパイルエラーになります。

```rust:match_shapes.rs
enum Shape {
    Circle(f64),             // 半径
    Rectangle(f64, f64),     // 幅, 高さ
    Triangle(f64, f64, f64), // 3辺の長さ（簡略化のためヘロンの公式用）
}

fn calculate_area(shape: Shape) -> f64 {
    match shape {
        // パターンマッチで中のデータを取り出す（バインディング）
        Shape::Circle(radius) => {
            std::f64::consts::PI * radius * radius
        },
        Shape::Rectangle(w, h) => {
            w * h
        },
        Shape::Triangle(a, b, c) => {
            let s = (a + b + c) / 2.0;
            (s * (s - a) * (s - b) * (s - c)).sqrt()
        }
    }
}

fn main() {
    let c = Shape::Circle(10.0);
    let r = Shape::Rectangle(3.0, 4.0);

    println!("円の面積: {:.2}", calculate_area(c));
    println!("長方形の面積: {:.2}", calculate_area(r));
}
```

```rust-exec:match_shapes.rs
円の面積: 314.16
長方形の面積: 12.00
```

---
id: rust-enums-pattern-12
title: '練習問題 2: 簡易計算機'
level: 3
---

### 練習問題 2: 簡易計算機

2つの数値に対する操作を表すEnum `Operation` を定義し、計算を行ってください。

1.  Enum `Operation` を定義します。
      * `Add`: 2つの `i32` を持つ
      * `Subtract`: 2つの `i32` を持つ
      * `Multiply`: 2つの `i32` を持つ
      * `Divide`: 2つの `i32` を持つ
2.  関数 `calculate(op: Operation) -> Option<i32>` を実装してください。
      * `match` を使用して計算結果を返します。
      * 割り算の場合、0での除算（ゼロ除算）を防ぐため、分母が0なら `None` を返し、計算できるなら `Some(結果)` を返してください。他の演算は常に `Some` で返します。
3.  `main` 関数でいくつかのパターンを試し、結果を表示してください。

```rust:practice7_2.rs
// Operation enum と calculate 関数を実装してください

fn main() {
    let add = Operation::Add(5, 3);
    let subtract = Operation::Subtract(10, 4);
    let multiply = Operation::Multiply(6, 7);
    let divide = Operation::Divide(20, 4);
    let divide_by_zero = Operation::Divide(10, 0);

    println!("5 + 3 = {:?}", calculate(add));
    println!("10 - 4 = {:?}", calculate(subtract));
    println!("6 * 7 = {:?}", calculate(multiply));
    println!("20 / 4 = {:?}", calculate(divide));
    println!("10 / 0 = {:?}", calculate(divide_by_zero));
}
```

```rust-exec:practice7_2.rs
5 + 3 = Some(8)
10 - 4 = Some(6)
6 * 7 = Some(42)
20 / 4 = Some(5)
10 / 0 = None
```

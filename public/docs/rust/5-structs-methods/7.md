---
id: rust-structs-methods-7
title: 所有権と構造体
level: 2
---

## 所有権と構造体

構造体における所有権の扱いは非常に重要です。

1.  **所有するデータ**: `String`や`Vec`のような所有権を持つ型をフィールドにすると、その構造体のインスタンスがデータの所有者になります。構造体がドロップされると、フィールドのデータもドロップされます。
2.  **参照**: 構造体に「参照（\&strなど）」を持たせることも可能ですが、これには**ライフタイム（第12章）の指定が必要になります。そのため、現段階では構造体には（参照ではなく）`String`などの所有権のある型**を使うことを推奨します。

<!-- end list -->

```rust
// 推奨（現段階）
struct User {
    username: String, // Userがデータを所有する
}

// 非推奨（ライフタイムの知識が必要になるためコンパイルエラーになる）
// struct User {
//     username: &str, 
// }
```

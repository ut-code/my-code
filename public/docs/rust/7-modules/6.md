---
id: rust-modules-6
title: モジュールのファイル分割
level: 2
---

## モジュールのファイル分割

これまでは説明のために1つのファイルにすべてのモジュールを書いてきましたが、実際の開発ではファイルを分割します。

Rustでは**「ファイルシステム上の構造」**と**「モジュール階層」**が対応します。

例えば、`main.rs` と `front_of_house.rs` がある場合：

```rust:main.rs
// ファイルの中身をモジュールとして宣言
// これにより、コンパイラは front_of_house.rs を探しに行きます
mod front_of_house; 

pub use crate::front_of_house::hosting;

fn main() {
    hosting::add_to_waitlist();
}
```

```rust:front_of_house.rs
// ここには "mod front_of_house { ... }" の枠は書かない
pub mod hosting {
    pub fn add_to_waitlist() {
        println!("リストに追加しました");
    }
}
```

```rust-exec:main.rs
リストに追加しました
```

さらに `front_of_house` の中にサブモジュールを作りたい場合は、ディレクトリを作成します。

  * `src/main.rs`
  * `src/front_of_house/` (ディレクトリ)
      * `mod.rs` (または `front_of_house.rs` と同義。ディレクトリのエントリーポイント)
      * `hosting.rs`

このように、Rustはファイルやディレクトリの存在だけで自動的にモジュールを認識するのではなく、**親となるファイルで `mod xxx;` と宣言されたものだけ**をコンパイル対象として認識します。これがC\#やJavaなどの「フォルダにあるものは全部パッケージに含まれる」言語との大きな違いです。

---
id: rust-collections-strings-5
title: 文字列の操作
level: 3
---

### 文字列の操作

`String` は `Vec` と同様に `push_str` や `+` 演算子で結合できます。

```rust:string_ops.rs
fn main() {
    let mut s = String::from("foo");
    s.push_str("bar"); // 文字列スライスを追加
    s.push('!');       // 1文字追加
    println!("{}", s);

    let s1 = String::from("Hello, ");
    let s2 = String::from("World!");
    
    // + 演算子を使用。
    // s1はムーブされ、以降使用できなくなることに注意
    // シグネチャは fn add(self, s: &str) -> String に近いため
    let s3 = s1 + &s2; 
    
    println!("{}", s3);
    // println!("{}", s1); // コンパイルエラー：s1はムーブ済み
    
    // format!マクロを使うと所有権を奪わず、読みやすく結合できる
    let s4 = String::from("tic");
    let s5 = String::from("tac");
    let s6 = String::from("toe");
    
    let s_all = format!("{}-{}-{}", s4, s5, s6);
    println!("{}", s_all);
}
```

```rust-exec:string_ops.rs
foobar!
Hello, World!
tic-tac-toe
```

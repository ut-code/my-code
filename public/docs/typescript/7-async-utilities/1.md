---
id: typescript-async-utilities-1
title: 基本的な定義
level: 3
---

### 基本的な定義

  * 戻り値が文字列の場合: `Promise<string>`
  * 戻り値が数値の場合: `Promise<number>`
  * 戻り値がない（void）場合: `Promise<void>`

`async` キーワードがついた関数は、自動的に戻り値が `Promise` でラップされます。

```ts:async-fetch.ts
type User = {
  id: number;
  name: string;
  email: string;
};

// 擬似的なAPIコール関数
// 戻り値の型として Promise<User> を指定します
const fetchUser = async (userId: number): Promise<User> => {
  // 実際はfetchなどを行いますが、ここでは擬似的に遅延させて値を返します
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve({
        id: userId,
        name: "Yamada Taro",
        email: "taro@example.com",
      });
    }, 500);
  });
};

const main = async () => {
  console.log("Fetching data...");
  
  // awaitを使うことで、user変数の型は自動的に User 型（Promiseが解けた状態）になります
  const user = await fetchUser(1);
  
  console.log(`ID: ${user.id}`);
  console.log(`Name: ${user.name}`);
};

main();
```

```ts-exec:async-fetch.ts
Fetching data...
ID: 1
Name: Yamada Taro
```
```js-readonly:async-fetch.js
```

---
id: python-exceptions-1
title: 複数の例外を処理する方法
level: 2
---

## 複数の例外を処理する方法

`try` ブロック内では、複数の種類のエラーが発生する可能性があります。例えば、ユーザーの入力を数値に変換しようとして失敗した場合は `ValueError` が発生します。

複数の例外を処理するには、2つの方法があります。

**1. `except` ブロックを複数記述する**

エラーの種類ごとに異なる処理を行いたい場合に適しています。

```python-repl:3
>>> def calculate(a, b):
...   try:
...     a = int(a)
...     b = int(b)
...     result = a / b
...     print(f"計算結果: {result}")
...   except ValueError:
...     print("エラー: 数値を入力してください。")
...   except ZeroDivisionError:
...     print("エラー: 0で割ることはできません。")
...
>>> calculate(10, 2)
計算結果: 5.0
>>> calculate(10, 0)
エラー: 0で割ることはできません。
>>> calculate('ten', 2)
エラー: 数値を入力してください。
```

**2. 1つの `except` ブロックでタプルを使ってまとめる**

複数の例外に対して同じ処理を行いたい場合に便利です。

```python-repl:4
>>> def calculate_v2(a, b):
...   try:
...     a = int(a)
...     b = int(b)
...     result = a / b
...     print(f"計算結果: {result}")
...   except (ValueError, ZeroDivisionError) as e:
...     print(f"入力エラーが発生しました: {e}")
...
>>> calculate_v2(20, 0)
入力エラーが発生しました: division by zero
>>> calculate_v2('twenty', 5)
入力エラーが発生しました: invalid literal for int() with base 10: 'twenty'
```

`as e` のように書くことで、発生した例外オブジェクトそのものを変数 `e` で受け取ることができます。これにより、具体的なエラーメッセージを表示できます。
